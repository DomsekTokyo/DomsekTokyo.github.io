<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Python-Projects</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="styless.css">
    <link rel="stylesheet" href="styly.css?v=6">
    <link rel="stylesheet" href="grid.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="images/ikona.png">
    <link rel="stylesheet" href="python.css">
</head>
<body>

<div class="ikonky">
    <a href="https://www.linkedin.com/in/dominik-mikuleck%C3%BD-531710383/" target="_blank">
        <img src="https://img.icons8.com/fluency/96/linkedin.png" alt="LinkedIn">
    </a>
    <a href="https://www.instagram.com/tokyo_domsek/" target="_blank">
        <img src="https://img.icons8.com/fluency/96/instagram-new.png" alt="Instagram">
    </a>
    <a href="https://github.com/DomsekTokyo" target="_blank">
        <img width="96" height="96" src="https://img.icons8.com/fluency/96/github.png" alt="GitHub"/>
    </a>
</div>

<nav class="navbar">
    <ul>
        <li><a href="index.html" class="one">Hlavn√≠ Str√°nka</a></li>
    </ul>
</nav>

<img class="logonav" src="images/logotokyo.png" />

<main>
    <div class="chlivekOne">
        <div class="oneSec">
            <h2>Kalkulaƒçka</h2>
            <p>Prvn√≠ aplikace kalkulaƒçky, do budoucna t≈ôeba udƒõl√°m nƒõjakou mega namakanou v jin√©m jazyce ne≈æ python nebo mohu klidnƒõ tuhle aktualizovat a st√°le ji vylep≈°ovat, Knihovna Tkinter</p>
            <a href="https://github.com/DomsekTokyo/Kalkulacka/releases/download/1.0/kalkulacka.exe">
                St√°hnout kalkulaƒçku (EXE)<br>
                <img width="96" height="96" src="https://img.icons8.com/fluency/96/python.png">
            </a>
        </div>
        <div class="twoSec">
            <img src="images/img_1.png" height="1039" width="820"/>
        </div>
    </div>

    <div class="chlivekTwo">
        <div class="oneSec">
            <h2>HappyBird</h2>
            <p>Happy bird hra byla docela pain v pythonu, hry odteƒè sp√≠≈°e budu programovat v Unity p≈ôes C# a kdo v√≠, t≈ôeba zkus√≠m udƒõlat i nƒõjakou origin√°ln√≠ hru, Knihovna Pygame</p>
            Pokud Hru windows pova≈æuje za hrozbu, staƒç√≠ d√°t u okna Dal≈°√≠ Informace a na kliknout na tlaƒç√≠tko "p≈ôesto spustit".<br>
            <p>
                Music used: <strong>Puzzle - RetroVision</strong> (NCS Release)<br>
                Provided by <a href="https://ncs.io">NCS</a><br>
                Listen: <a href="https://youtu.be/TiC1pM8j0YM">https://youtu.be/TiC1pM8j0YM</a>
            </p>
            <a href="https://github.com/DomsekTokyo/Flappybird/releases/download/1.0/happybird.exe"><br>
                St√°hnout HappyBird (EXE)<br>
                <img width="96" height="96" src="https://img.icons8.com/fluency/96/python.png">
            </a>
        </div>
        <div class="twoSec">
            <video width="400" controls>
                <source src="images/HappyBirdVid.mp4" type="video/mp4">
            </video>
        </div>
    </div>
</main>

<footer>
    <div class="row kontakty-foot ">
        <div class="logotokyo">
            <a href="#"><img src="images/logotokyo.png" alt="logo tokyo s lebkou"></a>
        </div>
        <div class="footer-text">
            <p>&copy; 2025 Dominik Mikuleck√Ω. V≈°echna pr√°va vyhrazena.<br>Vytvo≈ôeno v Litomy≈°li<br>Tokyo</p>
        </div>
    </div>
</footer>

<style>
    /* Styly pro chatovac√≠ tlaƒç√≠tko a okno */
    #chat-widget-button {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: #00ff41; /* Hacker Green */
        color: black;
        border: none;
        border-radius: 50%;
        width: 60px;
        height: 60px;
        font-size: 30px;
        cursor: pointer;
        box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        z-index: 1000;
        transition: transform 0.3s;
    }
    #chat-widget-button:hover { transform: scale(1.1); }

    #chat-window {
        display: none;
        position: fixed;
        bottom: 90px;
        right: 20px;
        width: 350px;
        height: 500px;
        background-color: #1e1e1e;
        border: 2px solid #00ff41;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        z-index: 1000;
        flex-direction: column;
        font-family: 'Courier New', Courier, monospace;
    }

    #chat-header {
        background-color: #00ff41;
        color: black;
        padding: 10px;
        font-weight: bold;
        text-align: center;
        border-bottom: 1px solid #333;
    }

    #chat-messages {
        flex: 1;
        padding: 10px;
        overflow-y: auto;
        color: #ddd;
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .message {
        max-width: 80%;
        padding: 8px 12px;
        border-radius: 15px;
        font-size: 14px;
        word-wrap: break-word;
    }
    .user-msg {
        align-self: flex-end;
        background-color: #007acc;
        color: white;
    }
    .bot-msg {
        align-self: flex-start;
        background-color: #333;
        border: 1px solid #00ff41;
        color: #00ff41;
    }

    #chat-input-area {
        padding: 10px;
        border-top: 1px solid #333;
        display: flex;
    }
    #chat-input {
        flex: 1;
        padding: 8px;
        border-radius: 5px;
        border: 1px solid #555;
        background: #2d2d2d;
        color: white;
    }
    #chat-send {
        background: #00ff41;
        border: none;
        padding: 8px 15px;
        margin-left: 5px;
        cursor: pointer;
        font-weight: bold;
        border-radius: 5px;
    }
</style>

<button id="chat-widget-button" onclick="toggleChat()">ü§ñ</button>

<div id="chat-window">
    <div id="chat-header">MegaBot v1.0</div>
    <div id="chat-messages">
        <div class="message bot-msg">Ahoj! Jsem MegaBot. Zeptej se mƒõ na cokoliv (Wiki, Matika), nebo si jen pokec√°me.</div>
    </div>
    <div id="chat-input-area">
        <input type="text" id="chat-input" placeholder="Napi≈° zpr√°vu..." onkeypress="handleEnter(event)">
        <button id="chat-send" onclick="sendMessage()">‚û§</button>
    </div>
</div>

<script>


    const API_URL = "https://dominiktokyo.pythonanywhere.com/";

    let learningMode = false;
    let lastUnknownQuestion = "";

    function toggleChat() {
        const win = document.getElementById("chat-window");
        win.style.display = win.style.display === "none" || win.style.display === "" ? "flex" : "none";
    }

    function handleEnter(e) {
        if (e.key === "Enter") sendMessage();
    }

    async function sendMessage() {
        const input = document.getElementById("chat-input");
        const text = input.value.trim();
        if (!text) return;

        addMessage(text, "user-msg");
        input.value = "";

        if (learningMode) {
            await teachBot(text);
        } else {
            await askBot(text);
        }
    }

    async function askBot(text) {
        try {
            const response = await fetch(`${API_URL}/chat`, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ zprava: text })
            });
            const data = await response.json();

            addMessage(data.odpoved, "bot-msg");

            if (data.typ === "uceni") {
                learningMode = true;
                lastUnknownQuestion = text;
            }

        } catch (error) {
            addMessage("Chyba: Server neodpov√≠d√°. Zkontroluj adresu v k√≥du!", "bot-msg");
            console.error(error);
        }
    }

    async function teachBot(answer) {
        try {
            const response = await fetch(`${API_URL}/ucit`, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ otazka: lastUnknownQuestion, odpoved: answer })
            });
            const data = await response.json();

            addMessage("D√≠ky! Nauƒçil jsem se to.", "bot-msg");
            learningMode = false;
            lastUnknownQuestion = "";

        } catch (error) {
            addMessage("Chyba p≈ôi uƒçen√≠.", "bot-msg");
        }
    }

    function addMessage(text, className) {
        const div = document.createElement("div");
        div.className = `message ${className}`;
        div.innerText = text;
        const container = document.getElementById("chat-messages");
        container.appendChild(div);
        container.scrollTop = container.scrollHeight;
    }
</script>

</body>
</html>